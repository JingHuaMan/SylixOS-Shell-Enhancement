/*********************************************************************************************************
**
**                                    中国软件开源组织
**
**                                   嵌入式实时操作系统
**
**                                       SylixOS(TM)
**
**                               Copyright  All Rights Reserved
**
**--------------文件信息--------------------------------------------------------------------------------
**
** 文   件   名: posixShell.c
**
** 创   建   人: Han.Hui (韩辉)
**
** 文件创建日期: 2011 年 12 月 09 日
**
** 描        述: posix shell.
*********************************************************************************************************/
#define  __SYLIXOS_STDIO
#define  __SYLIXOS_KERNEL
#include "../include/posixLib.h"                                        /*  已包含操作系统头文件        */
/*********************************************************************************************************
  裁剪支持
*********************************************************************************************************/
#if (LW_CFG_POSIX_EN > 0) && (LW_CFG_SHELL_EN > 0)
#include "mman.h"
/*********************************************************************************************************
** 函数名称: __tshellMmaps
** 功能描述: 系统命令 "mmaps"
** 输　入  : iArgC         参数个数
**           ppcArgV       参数表
** 输　出  : 0
** 全局变量:
** 调用模块:
*********************************************************************************************************/
#if LW_CFG_VMM_EN > 0

static INT  __tshellMmaps (INT  iArgC, PCHAR  *ppcArgV)
{
    API_VmmMmapShow();
    
    return  (ERROR_NONE);
}

#endif                                                                  /*  LW_CFG_VMM_EN > 0           */
/*********************************************************************************************************
** 函数名称: __tshellPosixInit
** 功能描述: 注册 posix 系统命令
** 输　入  : NONE
** 输　出  : NONE
** 全局变量:
** 调用模块:
*********************************************************************************************************/
VOID  __tshellPosixInit (VOID)
{
#if LW_CFG_VMM_EN > 0
    API_TShellKeywordAdd("mmaps", __tshellMmaps);
    API_TShellHelpAdd("mmaps",   "show all mmap() file message.\n");
#endif                                                                  /*  LW_CFG_VMM_EN > 0           */
}

#endif                                                                  /*  LW_CFG_POSIX_EN > 0         */
                                                                        /*  LW_CFG_SHELL_EN > 0         */
/*********************************************************************************************************
  END
*********************************************************************************************************/
