;/*********************************************************************************************************
;**
;**                                    中国软件开源组织
;**
;**                                   嵌入式实时操作系统
;**
;**                                       SylixOS(TM)
;**
;**                               Copyright  All Rights Reserved
;**
;**--------------文件信息--------------------------------------------------------------------------------
;**
;** 文   件   名: x64CrAsm.S
;**
;** 创   建   人: Jiao.JinXing (焦进星)
;**
;** 文件创建日期: 2017 年 06 月 06 日
;**
;** 描        述: x86-64 体系构架处理器 CR 寄存器读写.
;*********************************************************************************************************/

#ifndef ASSEMBLY
#define ASSEMBLY 1
#endif

#include <arch/assembler.h>

    EXPORT_LABEL(x86Cr0Get)
    EXPORT_LABEL(x86Cr0Set)
    EXPORT_LABEL(x86Cr1Get)
    EXPORT_LABEL(x86Cr1Set)
    EXPORT_LABEL(x86Cr2Get)
    EXPORT_LABEL(x86Cr2Set)
    EXPORT_LABEL(x86Cr3Get)
    EXPORT_LABEL(x86Cr3Set)
    EXPORT_LABEL(x86Cr4Get)
    EXPORT_LABEL(x86Cr4Set)

;/*********************************************************************************************************
;  CR0 寄存器设置和获取
;*********************************************************************************************************/

FUNC_DEF(x86Cr0Get)
    MOV     %CR0 , %RAX
    RET
    FUNC_END(x86Cr0Get)

FUNC_DEF(x86Cr0Set)
    MOV     X86_64_ARG0 , %CR0
    RET
    FUNC_END(x86Cr0Set)

;/*********************************************************************************************************
;  CR1 寄存器设置和获取
;*********************************************************************************************************/

FUNC_DEF(x86Cr1Get)
    MOV     %CR1 , %RAX
    RET
    FUNC_END(x86Cr1Get)

FUNC_DEF(x86Cr1Set)
    MOV     X86_64_ARG0 , %CR1
    RET
    FUNC_END(x86Cr1Set)

;/*********************************************************************************************************
;  CR2 寄存器设置和获取
;*********************************************************************************************************/

FUNC_DEF(x86Cr2Get)
    MOV     %CR2 , %RAX
    RET
    FUNC_END(x86Cr2Get)

FUNC_DEF(x86Cr2Set)
    MOV     X86_64_ARG0 , %CR2
    RET
    FUNC_END(x86Cr2Set)

;/*********************************************************************************************************
;  CR3 寄存器设置和获取
;*********************************************************************************************************/

FUNC_DEF(x86Cr3Get)
    MOV     %CR3 , %RAX
    RET
    FUNC_END(x86Cr3Get)

FUNC_DEF(x86Cr3Set)
    MOV     X86_64_ARG0 , %CR3
    RET
    FUNC_END(x86Cr3Set)

;/*********************************************************************************************************
;  CR4 寄存器设置和获取
;*********************************************************************************************************/

FUNC_DEF(x86Cr4Get)
    MOV     %CR4 , %RAX
    RET
    FUNC_END(x86Cr4Get)

FUNC_DEF(x86Cr4Set)
    MOV     X86_64_ARG0 , %CR4
    RET
    FUNC_END(x86Cr4Set)

;/*********************************************************************************************************
;  END
;*********************************************************************************************************/
